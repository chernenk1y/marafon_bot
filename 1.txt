# check_tests_db.py
import sqlite3

conn = sqlite3.connect('mentor_bot.db')
cursor = conn.cursor()

# 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∞–±–ª–∏—Ü—É tests
print("üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∞–±–ª–∏—Ü—É tests:")
cursor.execute("PRAGMA table_info(tests)")
columns = cursor.fetchall()
for col in columns:
    print(f"  {col[1]} ({col[2]})")

# 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π
cursor.execute("SELECT COUNT(*) FROM tests")
count = cursor.fetchone()[0]
print(f"\nüìä –ó–∞–ø–∏—Å–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ tests: {count}")

# 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–≤—ã–µ –∑–∞–ø–∏—Å–∏
if count > 0:
    cursor.execute("SELECT test_id, week_num, question_text FROM tests LIMIT 3")
    print("\nüìù –ü–µ—Ä–≤—ã–µ 3 –∑–∞–ø–∏—Å–∏:")
    for row in cursor.fetchall():
        print(f"  ID: {row[0]}, –ù–µ–¥–µ–ª—è: {row[1]}, –í–æ–ø—Ä–æ—Å: {row[2][:50]}...")

conn.close()